---
import SectionTitle from "../assets/SectionTitle.astro";

// Reversed order: earliest first (left) to latest (right)
const experience = [
{
title: "System Engineer",
dates: "2021 - 2023",
company: "Siemens Ltd.",
highlight: "ETL • Python • Data Pipelines"
},
{
title: "CV Engineer",
dates: "2024",
company: "Habitat",
highlight: "Edge Inference • CI/CD"
},
{
title: "Data Engineer",
dates: "2025 - Present",
company: "RiskPe",
highlight: "PySpark • SQL • Power BI"
}
];
---

<section class="border-black/20 border-b divide-y divide-black/20">
  <SectionTitle>Experience</SectionTitle>
  <div class="p-8">
    <p class="text-black/80 font-black uppercase lg:text-xl">
      Building data solutions across industries; <em>from insurtech analytics to edge inference systems.</em>
    </p>
  </div>

  <!-- Horizontal Timeline -->
  <div class="p-8 overflow-x-auto">
    <div class="relative flex items-start gap-0 min-w-max">
      <!-- Timeline line: starts from first dot center, ends at last -->
      <div class="absolute top-[5px] left-[22px] right-4 h-0.5 bg-eagle"></div>

      {experience.map(({ title, dates, company, highlight }, index) => (
      <div class="relative flex flex-col items-start flex-1 min-w-[200px] px-4">
        <!-- Timeline dot -->
        <div class="relative z-10 w-3 h-3 rounded-full bg-orange border-2 border-orange"></div>

        <!-- Content -->
        <div class="mt-4 text-left">
          <p class="text-xs text-black/50 font-mono mb-1">{dates}</p>
          <h3 class="text-sm uppercase font-black text-black/80">{title}</h3>
          <p class="text-orange font-semibold text-sm">{company}</p>
          <p class="text-xs text-cyan mt-1">{highlight}</p>
        </div>
      </div>
      ))}

      <!-- End marker -->
      <div class="relative flex flex-col items-center px-4">
        <div class="relative z-10 w-3 h-3 rounded-full border-2 border-eagle bg-white"></div>
      </div>
    </div>
  </div>
</section>